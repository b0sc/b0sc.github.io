---
export async function getStaticPaths() {
  const faculties = ["bca", "bit", "csit", "bicte"];
  return faculties.map((faculty) => ({ params: { faculty } }));
}

import Container from "../../components/Container.astro";
import Layout from "../../layouts/Layout.astro";
import NavbarNotes from "../../components/NavbarNotes.astro";
const { faculty } = Astro.params;

const facultyMap: Record<string, string> = {
  bca: "BCA",
  bit: "BIT",
  csit: "CSIT",
  bicte: "BICTE",
};
const facultyName =
  faculty && facultyMap[faculty] ? facultyMap[faculty] : "Unknown Faculty";

let facultyData;
try {
  facultyData = await import(`../../components/Data/notes-${faculty}.json`);
} catch (e) {
  facultyData = null;
}
const info = facultyData?.default?.facultyInfo;
---

<Layout
  title={`${facultyName} Information & Notes - BOSC`}
  description={`All information, eligibility, objectives, and notes for ${facultyName} at BOSC.`}
  image="https://bosc.org.np/cover.jpg"
  url={`https://bosc.org.np/notes/${faculty}`}
>
  <main class="pt-7 pb-16">
    <Container>
      <div class="flex flex-col md:flex-row">
        <NavbarNotes currentFaculty={faculty} />
        <div class="w-full px-4">
          <h1 class="text-3xl font-bold mb-6 text-[var(--text-color)]">{facultyName}</h1>
          {
            info && (
              <div class="space-y-6">
                {Array.isArray(info.salientFeatures) && (
                  <section class="bg-[var(--card-bg)] border border-[var(--card-border)] rounded-lg shadow p-5">
                    <h2 class="text-xl font-semibold mb-2 text-[var(--text-color)]">Salient Features</h2>
                    <ul class="list-disc ml-6 text-[var(--text-muted)]">
                      {info.salientFeatures.map((item: string) => (
                        <li>{item}</li>
                      ))}
                    </ul>
                  </section>
                )}
                {Array.isArray(info.objectives) && (
                  <section class="bg-[var(--card-bg)] border border-[var(--card-border)] rounded-lg shadow p-5">
                    <h2 class="text-xl font-semibold mb-2 text-[var(--text-color)]">Objectives</h2>
                    <ul class="list-disc ml-6 text-[var(--text-muted)]">
                      {info.objectives.map((item: string) => (
                        <li>{item}</li>
                      ))}
                    </ul>
                  </section>
                )}
                {Array.isArray(info.eligibility) && (
                  <section class="bg-[var(--card-bg)] border border-[var(--card-border)] rounded-lg shadow p-5">
                    <h2 class="text-xl font-semibold mb-2 text-[var(--text-color)]">Eligibility</h2>
                    <ul class="list-disc ml-6 text-[var(--text-muted)]">
                      {info.eligibility.map((item: string) => (
                        <li>{item}</li>
                      ))}
                    </ul>
                  </section>
                )}
                {Array.isArray(info.jobProspects) && (
                  <section class="bg-[var(--card-bg)] border border-[var(--card-border)] rounded-lg shadow p-5">
                    <h2 class="text-xl font-semibold mb-2 text-[var(--text-color)]">Job Prospects</h2>
                    <ul class="list-disc ml-6 text-[var(--text-muted)]">
                      {info.jobProspects.map((item: string) => (
                        <li>{item}</li>
                      ))}
                    </ul>
                  </section>
                )}
                {info.curricularStructure && (
                  <section class="bg-[var(--card-bg)] border border-[var(--card-border)] rounded-lg shadow p-5">
                    <h2 class="text-xl font-semibold mb-2 text-[var(--text-color)]">
                      Curricular Structure
                    </h2>
                    <p class="text-[var(--text-muted)]">{info.curricularStructure}</p>
                  </section>
                )}
                <section class="bg-[var(--card-bg)] border border-[var(--card-border)] rounded-lg shadow p-5">
                  <h2 class="text-xl font-semibold mb-2 text-[var(--text-color)]">
                    Additional Information
                  </h2>
                  <ul class="list-disc ml-6 text-[var(--text-muted)]">
                    {info.courseDuration && <li>Course Duration: {info.courseDuration}</li>}
                    {info.hoursOfInstruction && <li>Hours of Instruction: {info.hoursOfInstruction}</li>}
                    {info.evaluation && <li>Evaluation: {info.evaluation}</li>}
                    {info.grading && <li>Grading: {info.grading}</li>}
                    {info.attendance && <li>Attendance: {info.attendance}</li>}
                    {info.finalExam && <li>Final Exam: {info.finalExam}</li>}
                  </ul>
                </section>
              </div>
            )
          }
        </div>
      </div>
    </Container>
  </main>
</Layout>